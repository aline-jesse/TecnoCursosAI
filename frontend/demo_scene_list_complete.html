<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SceneList Demo - TecnoCursos AI</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/react-beautiful-dnd@13.1.1/dist/react-beautiful-dnd.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .scene-item {
            transition: all 0.2s ease;
        }
        .scene-item:hover {
            transform: translateY(-2px);
        }
        .scene-item.dragging {
            transform: rotate(5deg);
        }
        .loading-spinner {
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script>
        // Mock do SceneListService
        class MockSceneListService {
            constructor() {
                this.baseURL = 'http://127.0.0.1:8000/api';
                this.token = 'mock-jwt-token';
            }

            setAuthToken(token) {
                this.token = token;
                localStorage.setItem('authToken', token);
            }

            getHeaders() {
                return {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${this.token}`
                };
            }

            async makeRequest(url, options = {}) {
                // Simula delay de rede
                await new Promise(resolve => setTimeout(resolve, 500));
                
                // Mock de respostas
                if (url.includes('/projects/') && options.method === 'GET') {
                    return [
                        { id: 'proj-1', nome: 'Projeto Demo', descricao: 'Projeto de demonstração' },
                        { id: 'proj-2', nome: 'Curso React', descricao: 'Curso completo de React' }
                    ];
                }
                
                if (url.includes('/scenes/') && options.method === 'GET') {
                    return [
                        {
                            id: 'scene-1',
                            nome: 'Introdução',
                            ordem: 1,
                            duracao: 10,
                            texto: 'Bem-vindo ao nosso curso sobre React!',
                            tipo: 'introducao',
                            assets: []
                        },
                        {
                            id: 'scene-2',
                            nome: 'Conceitos Básicos',
                            ordem: 2,
                            duracao: 15,
                            texto: 'Vamos aprender os conceitos fundamentais do React...',
                            tipo: 'conteudo',
                            assets: []
                        },
                        {
                            id: 'scene-3',
                            nome: 'Componentes',
                            ordem: 3,
                            duracao: 20,
                            texto: 'Componentes são a base do React...',
                            tipo: 'conteudo',
                            assets: []
                        }
                    ];
                }
                
                if (url.includes('/scenes/') && options.method === 'POST') {
                    const data = JSON.parse(options.body);
                    return {
                        id: `scene-${Date.now()}`,
                        ...data,
                        created_at: new Date().toISOString()
                    };
                }
                
                return { success: true };
            }

            formatDuration(duration) {
                const minutes = Math.floor(duration / 60);
                const seconds = Math.floor(duration % 60);
                return `${minutes}:${seconds.toString().padStart(2, '0')}`;
            }

            getSceneThumbnail(scene) {
                if (scene.assets && scene.assets.length > 0) {
                    return scene.assets[0].caminho_arquivo;
                }
                
                if (scene.texto) {
                    return `data:text/plain;base64,${btoa(scene.texto.substring(0, 50))}`;
                }
                
                return '/placeholder-scene.png';
            }

            validateSceneData(sceneData) {
                const errors = [];
                
                if (!sceneData.nome || sceneData.nome.trim() === '') {
                    errors.push('Nome da cena é obrigatório');
                }
                
                if (!sceneData.ordem || sceneData.ordem < 1) {
                    errors.push('Ordem da cena deve ser maior que 0');
                }
                
                if (!sceneData.duracao || sceneData.duracao < 1) {
                    errors.push('Duração da cena deve ser maior que 0');
                }
                
                return {
                    isValid: errors.length === 0,
                    errors
                };
            }
        }

        // Mock do useSceneList Hook
        function useMockSceneList(projectId) {
            const [scenes, setScenes] = React.useState([]);
            const [activeSceneId, setActiveSceneId] = React.useState(null);
            const [loading, setLoading] = React.useState(false);
            const [error, setError] = React.useState(null);

            const service = new MockSceneListService();

            const loadScenes = React.useCallback(async () => {
                if (!projectId) return;

                try {
                    setLoading(true);
                    setError(null);
                    
                    const scenesData = await service.makeRequest(`${service.baseURL}/projects/${projectId}/scenes/`);
                    setScenes(scenesData);
                    
                    if (scenesData.length > 0 && !activeSceneId) {
                        setActiveSceneId(scenesData[0].id);
                    }
                } catch (error) {
                    setError(`Erro ao carregar cenas: ${error.message}`);
                } finally {
                    setLoading(false);
                }
            }, [projectId, activeSceneId]);

            const selectScene = React.useCallback((sceneId) => {
                setActiveSceneId(sceneId);
            }, []);

            const addScene = React.useCallback(async () => {
                try {
                    setLoading(true);
                    setError(null);
                    
                    const newSceneData = {
                        nome: `Cena ${scenes.length + 1}`,
                        ordem: scenes.length + 1,
                        duracao: 5,
                        texto: '',
                        tipo: 'conteudo'
                    };

                    const validation = service.validateSceneData(newSceneData);
                    if (!validation.isValid) {
                        throw new Error(`Dados inválidos: ${validation.errors.join(', ')}`);
                    }

                    const createdScene = await service.makeRequest(
                        `${service.baseURL}/projects/${projectId}/scenes/`,
                        {
                            method: 'POST',
                            body: JSON.stringify(newSceneData)
                        }
                    );
                    
                    setScenes(prev => [...prev, createdScene]);
                    setActiveSceneId(createdScene.id);
                } catch (error) {
                    setError(`Erro ao adicionar cena: ${error.message}`);
                } finally {
                    setLoading(false);
                }
            }, [scenes.length, projectId]);

            const removeScene = React.useCallback(async (sceneId) => {
                if (scenes.length <= 1) {
                    setError('Não é possível remover a última cena');
                    return;
                }

                try {
                    setLoading(true);
                    setError(null);
                    
                    setScenes(prev => {
                        const updatedScenes = prev.filter(scene => scene.id !== sceneId);
                        return updatedScenes.map((scene, index) => ({
                            ...scene,
                            ordem: index + 1
                        }));
                    });

                    if (activeSceneId === sceneId) {
                        const remainingScenes = scenes.filter(scene => scene.id !== sceneId);
                        if (remainingScenes.length > 0) {
                            setActiveSceneId(remainingScenes[0].id);
                        } else {
                            setActiveSceneId(null);
                        }
                    }
                } catch (error) {
                    setError(`Erro ao remover cena: ${error.message}`);
                } finally {
                    setLoading(false);
                }
            }, [scenes, activeSceneId]);

            const duplicateScene = React.useCallback(async (sceneId) => {
                try {
                    setLoading(true);
                    setError(null);
                    
                    const originalScene = scenes.find(s => s.id === sceneId);
                    if (!originalScene) return;
                    
                    const duplicatedScene = {
                        ...originalScene,
                        id: `scene-${Date.now()}`,
                        nome: `${originalScene.nome} (Cópia)`,
                        ordem: scenes.length + 1
                    };
                    
                    setScenes(prev => [...prev, duplicatedScene]);
                    setActiveSceneId(duplicatedScene.id);
                } catch (error) {
                    setError(`Erro ao duplicar cena: ${error.message}`);
                } finally {
                    setLoading(false);
                }
            }, [scenes]);

            const reorderScenes = React.useCallback(async (sourceIndex, destinationIndex) => {
                try {
                    setLoading(true);
                    setError(null);
                    
                    setScenes(prev => {
                        const reorderedScenes = [...prev];
                        const [movedScene] = reorderedScenes.splice(sourceIndex, 1);
                        reorderedScenes.splice(destinationIndex, 0, movedScene);
                        
                        return reorderedScenes.map((scene, index) => ({
                            ...scene,
                            ordem: index + 1
                        }));
                    });
                } catch (error) {
                    setError(`Erro ao reordenar cenas: ${error.message}`);
                } finally {
                    setLoading(false);
                }
            }, []);

            React.useEffect(() => {
                if (projectId) {
                    loadScenes();
                }
            }, [projectId, loadScenes]);

            return {
                scenes,
                activeSceneId,
                loading,
                error,
                selectScene,
                addScene,
                removeScene,
                duplicateScene,
                reorderScenes,
                totalScenes: scenes.length,
                hasActiveScene: !!activeSceneId,
                canRemoveScene: scenes.length > 1
            };
        }

        // Componente SceneList
        function SceneList({
            projectId,
            scenes = [],
            activeSceneId,
            onSceneSelect,
            onSceneAdd,
            onSceneRemove,
            onSceneDuplicate,
            onScenesReorder,
            onError,
            className = ''
        }) {
            const [draggingId, setDraggingId] = React.useState(null);
            const [hoveredSceneId, setHoveredSceneId] = React.useState(null);
            const [loading, setLoading] = React.useState(false);
            const [error, setError] = React.useState(null);

            const service = new MockSceneListService();

            const handleError = React.useCallback((error, operation) => {
                console.error(`Erro em ${operation}:`, error);
                setError(`${operation}: ${error.message}`);
                
                if (onError) {
                    onError(error, operation);
                }
            }, [onError]);

            const clearError = React.useCallback(() => {
                setError(null);
            }, []);

            const getSceneThumbnail = React.useCallback((scene) => {
                return service.getSceneThumbnail(scene);
            }, []);

            const formatDuration = React.useCallback((duration) => {
                return service.formatDuration(duration);
            }, []);

            const handleDragEnd = React.useCallback(async (result) => {
                setDraggingId(null);
                
                if (!result.destination) return;
                
                const sourceIndex = result.source.index;
                const destinationIndex = result.destination.index;
                
                if (sourceIndex !== destinationIndex) {
                    try {
                        setLoading(true);
                        onScenesReorder(sourceIndex, destinationIndex);
                    } catch (error) {
                        handleError(error, 'Reordenação de cenas');
                    } finally {
                        setLoading(false);
                    }
                }
            }, [onScenesReorder, handleError]);

            const handleDragStart = React.useCallback((result) => {
                setDraggingId(result.draggableId);
            }, []);

            const handleAddScene = React.useCallback(async () => {
                try {
                    setLoading(true);
                    onSceneAdd();
                } catch (error) {
                    handleError(error, 'Criação de cena');
                } finally {
                    setLoading(false);
                }
            }, [onSceneAdd, handleError]);

            const handleRemoveScene = React.useCallback(async (sceneId, e) => {
                e.stopPropagation();
                
                if (scenes.length <= 1) {
                    handleError(new Error('Não é possível remover a última cena'), 'Remoção de cena');
                    return;
                }

                try {
                    setLoading(true);
                    onSceneRemove(sceneId);
                } catch (error) {
                    handleError(error, 'Remoção de cena');
                } finally {
                    setLoading(false);
                }
            }, [scenes.length, onSceneRemove, handleError]);

            const handleDuplicateScene = React.useCallback(async (sceneId, e) => {
                e.stopPropagation();
                
                try {
                    setLoading(true);
                    onSceneDuplicate(sceneId);
                } catch (error) {
                    handleError(error, 'Duplicação de cena');
                } finally {
                    setLoading(false);
                }
            }, [onSceneDuplicate, handleError]);

            const handleSceneSelect = React.useCallback((sceneId) => {
                onSceneSelect(sceneId);
            }, [onSceneSelect]);

            React.useEffect(() => {
                clearError();
            }, [clearError]);

            return React.createElement('div', {
                className: `scene-list bg-gray-50 border-r border-gray-200 w-80 flex flex-col ${className}`
            }, [
                // Header
                React.createElement('div', {
                    key: 'header',
                    className: 'p-4 border-b border-gray-200 bg-white'
                }, [
                    React.createElement('div', {
                        key: 'header-content',
                        className: 'flex items-center justify-between'
                    }, [
                        React.createElement('h3', {
                            key: 'title',
                            className: 'text-lg font-semibold text-gray-900'
                        }, `Cenas (${scenes.length})`),
                        React.createElement('button', {
                            key: 'add-button',
                            onClick: handleAddScene,
                            disabled: loading,
                            className: 'flex items-center px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed',
                            title: 'Adicionar nova cena'
                        }, [
                            React.createElement('svg', {
                                key: 'plus-icon',
                                className: 'w-4 h-4',
                                fill: 'none',
                                stroke: 'currentColor',
                                viewBox: '0 0 24 24'
                            }, React.createElement('path', {
                                strokeLinecap: 'round',
                                strokeLinejoin: 'round',
                                strokeWidth: 2,
                                d: 'M12 4v16m8-8H4'
                            })),
                            React.createElement('span', { key: 'text' }, 'Nova Cena')
                        ])
                    ]),
                    
                    // Loading indicator
                    loading && React.createElement('div', {
                        key: 'loading',
                        className: 'mt-2 flex items-center text-sm text-blue-600'
                    }, [
                        React.createElement('div', {
                            key: 'spinner',
                            className: 'loading-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2'
                        }),
                        'Processando...'
                    ]),
                    
                    // Error display
                    error && React.createElement('div', {
                        key: 'error',
                        className: 'mt-2 p-2 bg-red-50 border border-red-200 rounded-md'
                    }, [
                        React.createElement('p', {
                            key: 'error-text',
                            className: 'text-sm text-red-600'
                        }, error),
                        React.createElement('button', {
                            key: 'close-error',
                            onClick: clearError,
                            className: 'text-xs text-red-500 hover:text-red-700 mt-1'
                        }, 'Fechar')
                    ])
                ]),

                // Drag and Drop List
                React.createElement(ReactBeautifulDnd.DragDropContext, {
                    key: 'drag-context',
                    onDragEnd: handleDragEnd,
                    onDragStart: handleDragStart
                }, React.createElement(ReactBeautifulDnd.Droppable, {
                    droppableId: 'scenes-list'
                }, (provided, snapshot) => React.createElement('div', {
                    ref: provided.innerRef,
                    ...provided.droppableProps,
                    className: 'flex-1 overflow-y-auto p-2'
                }, [
                    ...scenes.map((scene, index) => React.createElement(ReactBeautifulDnd.Draggable, {
                        key: scene.id,
                        draggableId: scene.id,
                        index: index
                    }, (provided, snapshot) => React.createElement('div', {
                        ref: provided.innerRef,
                        ...provided.draggableProps,
                        ...provided.dragHandleProps,
                        className: `scene-item mb-2 bg-white rounded-lg border-2 cursor-pointer transition-all duration-200 ${
                            activeSceneId === scene.id ? 'border-blue-500 shadow-lg' : 'border-gray-200 hover:border-gray-300'
                        } ${snapshot.isDragging ? 'shadow-xl rotate-2' : ''} ${
                            draggingId === scene.id ? 'opacity-50' : ''
                        } ${loading ? 'pointer-events-none opacity-75' : ''}`,
                        onClick: () => handleSceneSelect(scene.id),
                        onMouseEnter: () => setHoveredSceneId(scene.id),
                        onMouseLeave: () => setHoveredSceneId(null)
                    }, [
                        // Thumbnail
                        React.createElement('div', {
                            key: 'thumbnail',
                            className: 'relative'
                        }, React.createElement('div', {
                            className: 'aspect-video bg-gray-100 rounded-t-lg overflow-hidden'
                        }, [
                            React.createElement('img', {
                                key: 'thumb-img',
                                src: getSceneThumbnail(scene),
                                alt: `Cena ${scene.ordem}`,
                                className: 'w-full h-full object-cover',
                                onError: (e) => {
                                    e.target.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDIwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjEwMCIgeT0iNTUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzlDQTBBNiIgdGV4dC1hbmNob3I9Im1pZGRsZSI+Q2VuYTwvdGV4dD4KPC9zdmc+';
                                }
                            }),
                            React.createElement('div', {
                                key: 'overlay',
                                className: 'absolute inset-0 bg-black bg-opacity-20 flex items-end'
                            }, React.createElement('div', {
                                className: 'w-full p-2 bg-gradient-to-t from-black to-transparent'
                            }, React.createElement('div', {
                                className: 'flex items-center justify-between text-white text-xs'
                            }, [
                                React.createElement('span', {
                                    key: 'scene-number',
                                    className: 'font-medium'
                                }, `Cena ${scene.ordem}`),
                                React.createElement('div', {
                                    key: 'duration',
                                    className: 'flex items-center'
                                }, [
                                    React.createElement('svg', {
                                        key: 'clock-icon',
                                        className: 'w-3 h-3 mr-1',
                                        fill: 'none',
                                        stroke: 'currentColor',
                                        viewBox: '0 0 24 24'
                                    }, React.createElement('circle', {
                                        cx: 12,
                                        cy: 12,
                                        r: 10
                                    }), React.createElement('polyline', {
                                        points: '12,6 12,12 16,14'
                                    })),
                                    React.createElement('span', {
                                        key: 'duration-text'
                                    }, formatDuration(scene.duracao || 5))
                                ])
                            ])))
                        ])),

                        // Scene Info
                        React.createElement('div', {
                            key: 'scene-info',
                            className: 'p-3'
                        }, React.createElement('div', {
                            className: 'flex items-center justify-between'
                        }, [
                            React.createElement('div', {
                                key: 'scene-text',
                                className: 'flex-1 min-w-0'
                            }, [
                                React.createElement('h4', {
                                    key: 'scene-name',
                                    className: 'text-sm font-medium text-gray-900 truncate'
                                }, scene.nome || `Cena ${scene.ordem}`),
                                React.createElement('p', {
                                    key: 'scene-desc',
                                    className: 'text-xs text-gray-500 truncate'
                                }, scene.texto ? scene.texto.substring(0, 30) + '...' : 'Cena vazia')
                            ]),
                            
                            // Action Buttons
                            React.createElement('div', {
                                key: 'actions',
                                className: `flex items-center space-x-1 transition-opacity duration-200 ${
                                    hoveredSceneId === scene.id ? 'opacity-100' : 'opacity-0'
                                }`
                            }, [
                                React.createElement('button', {
                                    key: 'duplicate-btn',
                                    onClick: (e) => handleDuplicateScene(scene.id, e),
                                    disabled: loading,
                                    className: 'p-1 text-gray-400 hover:text-blue-600 transition-colors disabled:opacity-50',
                                    title: 'Duplicar cena'
                                }, React.createElement('svg', {
                                    className: 'w-4 h-4',
                                    fill: 'none',
                                    stroke: 'currentColor',
                                    viewBox: '0 0 24 24'
                                }, React.createElement('path', {
                                    strokeLinecap: 'round',
                                    strokeLinejoin: 'round',
                                    strokeWidth: 2,
                                    d: 'M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z'
                                }))),
                                React.createElement('button', {
                                    key: 'remove-btn',
                                    onClick: (e) => handleRemoveScene(scene.id, e),
                                    disabled: loading || scenes.length <= 1,
                                    className: 'p-1 text-gray-400 hover:text-red-600 transition-colors disabled:opacity-50',
                                    title: 'Remover cena'
                                }, React.createElement('svg', {
                                    className: 'w-4 h-4',
                                    fill: 'none',
                                    stroke: 'currentColor',
                                    viewBox: '0 0 24 24'
                                }, React.createElement('path', {
                                    strokeLinecap: 'round',
                                    strokeLinejoin: 'round',
                                    strokeWidth: 2,
                                    d: 'M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16'
                                })))
                            ])
                        ]))
                    ])),
                    provided.placeholder
                ]))),

                // Footer
                React.createElement('div', {
                    key: 'footer',
                    className: 'p-4 border-t border-gray-200 bg-white'
                }, React.createElement('div', {
                    className: 'text-xs text-gray-500'
                }, React.createElement('div', {
                    className: 'flex justify-between'
                }, [
                    React.createElement('span', {
                        key: 'total-scenes'
                    }, `Total de cenas: ${scenes.length}`),
                    React.createElement('span', {
                        key: 'total-duration'
                    }, `Duração total: ${formatDuration(
                        scenes.reduce((total, scene) => total + (scene.duracao || 5), 0)
                    )}`)
                ])))
            ]);
        }

        // Componente App principal
        function App() {
            const [currentProjectId, setCurrentProjectId] = React.useState('demo-project-123');
            const [projects, setProjects] = React.useState([]);
            const [selectedProject, setSelectedProject] = React.useState(null);

            const {
                scenes,
                activeSceneId,
                loading: scenesLoading,
                error: scenesError,
                selectScene,
                addScene,
                removeScene,
                duplicateScene,
                reorderScenes,
                totalScenes,
                hasActiveScene,
                canRemoveScene
            } = useMockSceneList(currentProjectId);

            const handleSceneSelect = (sceneId) => {
                selectScene(sceneId);
                console.log('Cena selecionada:', sceneId);
            };

            const handleSceneAdd = async () => {
                try {
                    await addScene();
                    console.log('Cena adicionada');
                } catch (error) {
                    console.error('Erro ao adicionar cena:', error);
                }
            };

            const handleSceneRemove = async (sceneId) => {
                try {
                    await removeScene(sceneId);
                    console.log('Cena removida:', sceneId);
                } catch (error) {
                    console.error('Erro ao remover cena:', error);
                }
            };

            const handleSceneDuplicate = async (sceneId) => {
                try {
                    await duplicateScene(sceneId);
                    console.log('Cena duplicada:', sceneId);
                } catch (error) {
                    console.error('Erro ao duplicar cena:', error);
                }
            };

            const handleScenesReorder = (sourceIndex, destinationIndex) => {
                console.log('Cenas reordenadas:', { sourceIndex, destinationIndex });
            };

            const handleError = (error, operation) => {
                console.error(`Erro em ${operation}:`, error);
            };

            return React.createElement('div', {
                className: 'app'
            }, [
                // Header
                React.createElement('header', {
                    key: 'header',
                    className: 'bg-white border-b border-gray-200 px-6 py-4'
                }, React.createElement('div', {
                    className: 'flex items-center justify-between'
                }, [
                    React.createElement('h1', {
                        key: 'title',
                        className: 'text-2xl font-bold text-gray-900'
                    }, 'SceneList Demo - TecnoCursos AI'),
                    React.createElement('div', {
                        key: 'controls',
                        className: 'flex items-center space-x-4'
                    }, [
                        React.createElement('span', {
                            key: 'status',
                            className: 'text-sm text-gray-500'
                        }, `Status: ${scenesLoading ? 'Carregando...' : 'Pronto'}`),
                        React.createElement('button', {
                            key: 'demo-btn',
                            className: 'px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700',
                            onClick: () => console.log('Demo button clicked')
                        }, 'Demo')
                    ])
                ])),

                // Main Content
                React.createElement('div', {
                    key: 'main',
                    className: 'flex h-screen bg-gray-50'
                }, [
                    // Left Panel
                    React.createElement('div', {
                        key: 'left-panel',
                        className: 'w-64 bg-white border-r border-gray-200 p-4'
                    }, [
                        React.createElement('h3', {
                            key: 'panel-title',
                            className: 'text-lg font-semibold text-gray-900 mb-4'
                        }, 'Informações'),
                        React.createElement('div', {
                            key: 'info',
                            className: 'space-y-2'
                        }, [
                            React.createElement('div', {
                                key: 'project',
                                className: 'p-3 bg-gray-50 rounded-md'
                            }, [
                                React.createElement('p', {
                                    key: 'project-title',
                                    className: 'text-sm text-gray-600'
                                }, 'Projeto Ativo'),
                                React.createElement('p', {
                                    key: 'project-name',
                                    className: 'text-xs text-gray-400'
                                }, 'Demo Project')
                            ]),
                            React.createElement('div', {
                                key: 'scenes',
                                className: 'p-3 bg-gray-50 rounded-md'
                            }, [
                                React.createElement('p', {
                                    key: 'scenes-title',
                                    className: 'text-sm text-gray-600'
                                }, 'Cenas'),
                                React.createElement('p', {
                                    key: 'scenes-count',
                                    className: 'text-xs text-gray-400'
                                }, `${totalScenes} cenas`)
                            ])
                        ])
                    ]),

                    // Center Panel
                    React.createElement('div', {
                        key: 'center-panel',
                        className: 'flex-1 flex flex-col'
                    }, [
                        // Toolbar
                        React.createElement('div', {
                            key: 'toolbar',
                            className: 'bg-white border-b border-gray-200 px-6 py-3'
                        }, React.createElement('div', {
                            className: 'flex items-center justify-between'
                        }, [
                            React.createElement('div', {
                                key: 'tools',
                                className: 'flex items-center space-x-4'
                            }, [
                                React.createElement('button', {
                                    key: 'add-text',
                                    className: 'px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200'
                                }, 'Adicionar Texto'),
                                React.createElement('button', {
                                    key: 'add-image',
                                    className: 'px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200'
                                }, 'Adicionar Imagem'),
                                React.createElement('button', {
                                    key: 'add-audio',
                                    className: 'px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200'
                                }, 'Adicionar Áudio')
                            ]),
                            React.createElement('div', {
                                key: 'info',
                                className: 'flex items-center space-x-2'
                            }, [
                                React.createElement('span', {
                                    key: 'scene-info',
                                    className: 'text-sm text-gray-500'
                                }, `Cena ${scenes.find(s => s.id === activeSceneId)?.ordem || 0} de ${totalScenes}`),
                                React.createElement('button', {
                                    key: 'preview',
                                    className: 'px-4 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700'
                                }, 'Preview')
                            ])
                        ])),

                        // Canvas
                        React.createElement('div', {
                            key: 'canvas',
                            className: 'flex-1 bg-gray-100 flex items-center justify-center'
                        }, React.createElement('div', {
                            className: 'bg-white rounded-lg shadow-lg p-8'
                        }, React.createElement('div', {
                            className: 'w-96 h-56 bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center'
                        }, React.createElement('div', {
                            className: 'text-center'
                        }, [
                            React.createElement('p', {
                                key: 'canvas-title',
                                className: 'text-gray-500 mb-2'
                            }, 'Canvas do Editor'),
                            React.createElement('p', {
                                key: 'canvas-info',
                                className: 'text-sm text-gray-400'
                            }, `Cena selecionada: ${scenes.find(s => s.id === activeSceneId)?.nome || 'Nenhuma'}`),
                            scenesLoading && React.createElement('div', {
                                key: 'canvas-loading',
                                className: 'mt-4 flex items-center justify-center'
                            }, [
                                React.createElement('div', {
                                    key: 'canvas-spinner',
                                    className: 'loading-spinner rounded-full h-6 w-6 border-b-2 border-blue-600'
                                }),
                                React.createElement('span', {
                                    key: 'canvas-loading-text',
                                    className: 'ml-2 text-sm text-gray-500'
                                }, 'Carregando...')
                            ]),
                            scenesError && React.createElement('div', {
                                key: 'canvas-error',
                                className: 'mt-4 p-2 bg-red-50 border border-red-200 rounded-md'
                            }, React.createElement('p', {
                                className: 'text-sm text-red-600'
                            }, scenesError))
                        ])))
                    ]),

                    // SceneList
                    React.createElement(SceneList, {
                        key: 'scene-list',
                        projectId: currentProjectId,
                        scenes: scenes,
                        activeSceneId: activeSceneId,
                        onSceneSelect: handleSceneSelect,
                        onSceneAdd: handleSceneAdd,
                        onSceneRemove: handleSceneRemove,
                        onSceneDuplicate: handleSceneDuplicate,
                        onScenesReorder: handleScenesReorder,
                        onError: handleError
                    })
                ]),

                // Status Bar
                React.createElement('div', {
                    key: 'status-bar',
                    className: 'bg-gray-800 text-white px-6 py-2 text-sm'
                }, React.createElement('div', {
                    className: 'flex items-center justify-between'
                }, [
                    React.createElement('div', {
                        key: 'status-left',
                        className: 'flex items-center space-x-4'
                    }, [
                        React.createElement('span', {
                            key: 'project-status'
                        }, 'Projeto: Demo Project'),
                        React.createElement('span', {
                            key: 'scenes-status'
                        }, `Cenas: ${totalScenes}`),
                        React.createElement('span', {
                            key: 'duration-status'
                        }, `Duração: ${new MockSceneListService().formatDuration(
                            scenes.reduce((total, scene) => total + (scene.duracao || 5), 0)
                        )}`)
                    ]),
                    React.createElement('div', {
                        key: 'status-right',
                        className: 'flex items-center space-x-2'
                    }, [
                        React.createElement('span', {
                            key: 'status-text'
                        }, `Status: ${scenesLoading ? 'Carregando...' : 'Pronto'}`),
                        React.createElement('span', {
                            key: 'connection',
                            className: 'text-green-400'
                        }, '● Conectado')
                    ])
                ]))
            ]);
        }

        // Renderizar a aplicação
        ReactDOM.render(
            React.createElement(App),
            document.getElementById('root')
        );
    </script>
</body>
</html> 